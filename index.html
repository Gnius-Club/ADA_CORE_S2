<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ada AI • Interfaz Educativa</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    /* ============================================================
     *  SHELL — solo el borde animado exterior
     *  Los colores del chat se configuran en Voiceflow Studio
     * ============================================================ */
    :root {
      --shell-color-1: #8E2DE2;   /* color 1 del borde giratorio */
      --shell-color-2: #dc00e0;   /* color 2 del borde giratorio */
      --shell-bg:      #0A0915;   /* fondo de la página          */
    }

    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    html, body {
      width: 100%; height: 100%;
      background: var(--shell-bg);
      font-family: 'Inter', system-ui, sans-serif;
      overflow: hidden;
    }

    /* Centra el shell en pantalla */
    .page {
      width: 100%; height: 100%;
      display: flex; align-items: center; justify-content: center;
      padding: 2vh 2vw;
    }

    /* Shell con borde animado */
    .shell {
      position: relative;
      width: 100%; height: 100%;
      max-width: 900px; max-height: 95vh;
      border-radius: 24px;
      /* El padding crea el espacio visible del borde */
      padding: 3px;
      box-shadow: 0 0 50px rgba(0,0,0,0.7);
    }

    /* Borde giratorio como background del shell */
    @property --a { syntax: '<angle>'; initial-value: 0deg; inherits: false; }
    @keyframes spin { to { --a: 360deg; } }
    .shell {
      background: conic-gradient(
        from var(--a) at 50% 50%,
        var(--shell-color-2),
        var(--shell-color-1) 40%,
        var(--shell-color-2)
      );
      animation: spin 8s linear infinite;
    }

    /* Interior donde vive VF — tapa el gradiente dejando solo el borde de 3px */
    .inner {
      width: 100%; height: 100%;
      border-radius: 22px;
      overflow: hidden;
      background: #fff; /* VF pinta encima su propio fondo */
    }

    /* El widget embedded debe llenar el inner completamente */
    #vf-embed {
      width: 100%;
      height: 100%;
    }

    /* VF inyecta un div hijo — lo forzamos a 100% */
    #vf-embed > div {
      width: 100% !important;
      height: 100% !important;
    }

    /* ── Loader ─────────────────────────────────────────── */
    .loader {
      position: fixed; inset: 0; z-index: 999;
      display: flex; flex-direction: column;
      align-items: center; justify-content: center;
      background: rgba(10, 9, 21, 0.93);
      backdrop-filter: blur(8px);
      transition: opacity .4s ease, transform .4s ease;
    }
    .loader.hidden {
      opacity: 0; transform: scale(0.97); pointer-events: none;
    }

    .orb {
      width: 110px; height: 110px; border-radius: 50%;
      position: relative;
      background: radial-gradient(circle at 35% 35%,
        rgba(255,255,255,0.18), transparent 55%),
        linear-gradient(135deg,
          rgba(142,45,226,0.5),
          rgba(220,0,224,0.45));
      box-shadow:
        0 0 0 1px rgba(255,255,255,0.06),
        0 0 40px rgba(142,45,226,0.55),
        inset 0 0 28px rgba(220,0,224,0.2);
    }
    .orb::before, .orb::after {
      content: ""; position: absolute; border-radius: 50%;
      animation: spin-ring 4s linear infinite;
    }
    .orb::before {
      inset: -14px;
      border: 1.5px dashed rgba(255,255,255,0.2);
    }
    .orb::after {
      inset: -28px;
      border: 1px solid rgba(255,255,255,0.07);
      animation-duration: 7s;
    }
    @keyframes spin-ring { to { transform: rotate(360deg); } }

    .dot {
      position: absolute; width: 8px; height: 8px; border-radius: 50%;
      background: #fff; top: 50%; left: 50%;
      box-shadow: 0 0 10px rgba(255,255,255,0.9), 0 0 20px rgba(142,45,226,0.7);
      animation: dot-spin 2.4s ease-in-out infinite;
    }
    .dot:nth-child(1) { transform-origin: -52px -52px; }
    .dot:nth-child(2) { transform-origin: -30px -30px; animation-duration: 1.7s; opacity: .85; }
    .dot:nth-child(3) { transform-origin: -72px -18px; animation-duration: 3.1s; opacity: .65; }
    @keyframes dot-spin {
      0%   { transform: rotate(0deg)   translateX(0); }
      50%  { transform: rotate(180deg) translateX(5px); }
      100% { transform: rotate(360deg) translateX(0); }
    }

    .loader-text {
      margin-top: 22px;
      color: rgba(190, 185, 255, 0.75);
      font-size: 13px; letter-spacing: .4px;
    }
  </style>
</head>
<body>

  <div class="page">
    <div class="shell">
      <div class="inner">
        <!-- Voiceflow embedded se monta aquí -->
        <div id="vf-embed"></div>
      </div>
    </div>
  </div>

  <div class="loader" id="loader">
    <div class="orb">
      <span class="dot"></span>
      <span class="dot"></span>
      <span class="dot"></span>
    </div>
    <div class="loader-text">Inicializando Ada AI…</div>
  </div>

  <script>
    /* ============================================================
     *  ⚙️  CONFIGURACIÓN — edita solo aquí para cambiar el chatbot
     * ============================================================ */

    const VF_PROJECT_ID = '699e6d99de76404ec747b554'; // ← ID del proyecto en Voiceflow
    const VF_VERSION    = 'production';                 // 'production' o 'development'
    const VF_RUNTIME    = 'https://general-runtime.voiceflow.com';

    /* ============================================================ */

    function hideLoader() {
      const l = document.getElementById('loader');
      l.classList.add('hidden');
      setTimeout(() => l.remove(), 450);
    }

    /* Snippet oficial de Voiceflow, sin alterar el tipo de script */
    (function(d, t) {
      var v = d.createElement(t), s = d.getElementsByTagName(t)[0];
      v.onload = function() {
        window.voiceflow.chat.load({
          verify    : { projectID: VF_PROJECT_ID },
          url       : VF_RUNTIME,
          versionID : VF_VERSION,
          render: {
            mode  : 'embedded',
            target: document.getElementById('vf-embed'),
          },
        })
        .then(hideLoader)
        .catch(function(err) {
          console.error('[VF]', err);
          hideLoader();
        });
      };
      v.onerror = function() {
        console.error('[VF] Error cargando el script del widget.');
        hideLoader();
      };
      v.src  = 'https://cdn.voiceflow.com/widget-next/bundle.mjs';
      v.type = 'text/javascript';
      s.parentNode.insertBefore(v, s);
    })(document, 'script');
  </script>
</body>
</html>
